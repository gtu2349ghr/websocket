<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- 指定字符集 -->
    <meta charset="utf-8">
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!-- 使用Edge最新的浏览器的渲染方式 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <title>登录</title>
    <script type="text/javascript"  th:src="@{/js/jquery-2.1.0.min.js}"></script>
    <link rel="stylesheet"type="text/css"  th:href="@{/css/login.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css}">
    <style type="text/css">
        body{ background-image:url(/img/indexBackGround2.jpg)}
    </style>


</head>
<body>
<!--<style type="text/css">-->
<!--    td, th {-->
<!--        text-align: center;-->
<!--    }-->

<!--    body {-->
<!--    background: url("../static/img/indexBackGround2.jpg");-->
<!--        background-repeat:no-repeat;-->
<!--        background-size:100% auto;-->
<!--    }-->
<!--</style>-->




<div id="login-box">
    <h1>小小聊天世界</h1>
    <div class="form">
        <div class="item">
            <i class="fa fa-github-alt" style="font-size:24px"></i>
            <input type="text" placeholder="Username" id="username">
        </div>
        <div class="item">
            <i class="fa fa-search" style="font-size:24px"></i>
            <input type="password" placeholder="Password" id="password">
        </div>
    </div>
    <div>
        <span id="hide"></span>
    </div>
    <button onclick="logindo()">Login</button> <button onclick="register()">register</button>
</div>
<script type="text/javascript" th:inline="javascript">
    function logindo(){
        var username= $("#username").val();
        var password=$("#password").val();
        var a='';
        if(username==a){
            $("#hide").text("用户名不能为空")
        }
        if(password==a){
            $("#hide").text("用户名不能为空")
        }
        else if(username!=a&&password!=a){
            $.ajax({
                url:"/user/logindo",
                data:{
                    "username":username,
                    "password":password
                },
                type:"post",
                success:function (data){
                    if(data.code==1){
                        window.location.href="/chat?user="+username;
                    }else {
                        $("#hide").text("用户名或者密码错误")
                    }
                }
            })
        }
    }
    function register(){
        window.location.href="/user/register"
    }

</script>
</body>
</html>
